<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta name="description" content="Personal Blog">
  <title>如何配置Visual Studio Code + MinGW下的C++环境 | linw1995</title>
  <link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0">
  <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css">
  <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css">
  <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png">
  <link rel="alternate" type="application/atom+xml" href="/atom.xml">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-86170223-1', 'auto');
    ga('send', 'pageview');
  </script>
</head>

<body>
  <div class="body_container">
    <div id="header">
      <div class="site-name">
        <h1 class="hidden">如何配置Visual Studio Code + MinGW下的C++环境</h1><a id="logo" href="/.">linw1995</a>
        <p class="description"></p>
      </div>
      <div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div>
    </div>
    <div id="layout" class="pure-g">
      <div class="pure-u-1 pure-u-md-4-4">
        <div class="content_container">
          <div class="post">
            <h1 class="post-title">如何配置Visual Studio Code + MinGW下的C++环境</h1>
            <div class="post-meta">Oct 14, 2016<span> | </span><span class="category"><a href="/categories/Others/">Others</a></span>
              <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span>
            </div>
            <a data-disqus-identifier="2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/" href="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/#disqus_thread" class="disqus-comment-count"></a>
            <div class="clear">
              <div id="toc" class="toc-article">
                <div class="toc-title">Contents</div>
                <ol class="toc">
                  <li class="toc-item toc-level-1"><a class="toc-link" href="#工具介绍"><span class="toc-number">1.</span> <span class="toc-text">
  工具介绍</span></a>
                    <ol class="toc-child">
                      <li class="toc-item toc-level-2"><a class="toc-link" href="#Visual-Studio-Code-–-Code-editing-Redefined"><span class="toc-number">1.1.</span> <span class="toc-text">
  Visual Studio Code – Code editing. Redefined.</span></a></li>
                      <li class="toc-item toc-level-2"><a class="toc-link" href="#MinGW"><span class="toc-number">1.2.</span> <span class="toc-text">
  MinGW</span></a></li>
                    </ol>
                  </li>
                  <li class="toc-item toc-level-1"><a class="toc-link" href="#安装"><span class="toc-number">2.</span> <span class="toc-text">
  安装</span></a></li>
                  <li class="toc-item toc-level-1"><a class="toc-link" href="#配置VS-Code"><span class="toc-number">3.</span> <span class="toc-text">
  配置VS Code</span></a></li>
                  <li class="toc-item toc-level-1"><a class="toc-link" href="#使用"><span class="toc-number">4.</span> <span class="toc-text">
  使用</span></a>
                    <ol class="toc-child">
                      <li class="toc-item toc-level-2"><a class="toc-link" href="#编译"><span class="toc-number">4.1.</span> <span class="toc-text">
  编译</span></a></li>
                      <li class="toc-item toc-level-2"><a class="toc-link" href="#运行"><span class="toc-number">4.2.</span> <span class="toc-text">
  运行</span></a></li>
                      <li class="toc-item toc-level-2"><a class="toc-link" href="#Debug-配置"><span class="toc-number">4.3.</span> <span class="toc-text">
  Debug 配置</span></a></li>
                    </ol>
                  </li>
                </ol>
              </div>
            </div>
            <div class="post-content">
              <p>官方文档至今还没翻译成中文，足足琢磨了好几天明白了一些VS Code的功能。<br>现在给大家分享以下。</p>
              <a id="more"></a>
              <h1 id="工具介绍">
                <a href="#工具介绍" class="headerlink" title="工具介绍"></a>工具介绍</h1>
              <h2 id="Visual-Studio-Code-–-Code-editing-Redefined">
                <a href="#Visual-Studio-Code-–-Code-editing-Redefined" class="headerlink" title="Visual Studio Code – Code editing. Redefined."></a>Visual Studio Code – Code editing. Redefined.</h2><img src="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/2016-10-14_061710.470637_Visual_Studio_Code_0.10.1_icon.png" alt="VSCode-Logo" title="VSCode-Logo"> <a href="https://code.visualstudio.com/Download"
                title="Download Visual Studio Code" target="_blank" rel="external">VS Code Download link</a>
              <blockquote>
                <p>在2015 Build大会上宣布微软将开发 Visual Studio Code。<br>2015年4月29日，第一个预览版本发布。<br>2015年11月18日，Code团队将其在GitHub上面开源，并采用MIT许可证，同时宣布将支持扩展功能。<br>2016年4月14日，Visual Studio Code发布正式版，版本号1.0.0。<br>Visual Studio Code支持多种编程语言。与其他编辑器不同的是，Code的许多功能并不在菜单中显示，而是通过“命令面板”来调用。用户可以在命令面板中搜索和输入命令，从而实现指定功能，例如安装插件、设置属性等。<br>Code具备了现代文本编辑器所具有的功能，例如更改字符编码、更换换行符等。</p>
                <footer><strong>wikipedia</strong><cite><a href="https://zh.wikipedia.org/wiki/Visual_Studio_Code" target="_blank" rel="external">Visual Studio Code</a></cite></footer>
              </blockquote>
              <h2 id="MinGW">
                <a href="#MinGW" class="headerlink" title="MinGW"></a>MinGW</h2>
              <p>提供了G++编译器<br>
                <blockquote>
                  <p>MinGW（Minimalist GNU for Windows），又称mingw32，是将GCC编译器和GNU Binutils移植到Win32平台下的产物，包括一系列头文件（Win32API）、库和可执行文件。<br>另有可用于产生32位及64位Windows可执行文件的MinGW-w64项目，是从原本MinGW产生的分支。如今已经独立发展。</p>
                  <footer><strong>wikipedia</strong><cite><a href="https://zh.wikipedia.org/wiki/MinGW" target="_blank" rel="external">MinGW</a></cite></footer>
                </blockquote>
              </p>
              <h1 id="安装">
                <a href="#安装" class="headerlink" title="安装"></a>安装</h1>
              <ul>
                <li>VS Code</li>
              </ul>
              <p>按照安装提示一步步进行即可</p>
              <ul>
                <li>MinGW</li>
              </ul>
              <p>按照安装提示一步步进行，安装完成后。<br>会弹出以下界面<br><img src="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/2016-10-14_062200.698190_cl_MinGWInstall.png" alt="MinGWInstall" title="MinGWInstall"><br>照图片选择，然后在菜单栏Installation中选择Apply changes，然后等待程序下载安装编译器。<br>以上步骤结束后，设置系统变量<br>右键我的电脑，选择属性<br>                <img src="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/2016-10-14_062655.852040_QQ20161014142609.png" alt="step-1" title="step-1"><br>选择高级系统设置，再选择环境变量<br><img src="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/2016-10-14_062813.682885_QQ20161014142747.png"
                  alt="step-2" title="step-2"><br>再Path变量中添加MinGW根目录下的bin文件夹的路径<br><img src="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/2016-10-14_063037.967301_QQ20161014142952.png" alt="step-3" title="step-3"><br>打开CMD，输入<code>g++ -v</code>出现以下信息安装就成功咯<br>
                <img
                  src="/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/2016-10-14_063248.965706_QQ20161014143235.png" alt="step-4" title="step-4"></p>
              <h1 id="配置VS-Code">
                <a href="#配置VS-Code" class="headerlink" title="配置VS Code"></a>配置VS Code</h1>
              <p>在码配置流程前先贴出官方的不完全配置文档<br><a href="https://code.visualstudio.com/docs/languages/cpp" title="C/C++ for VS Code (Preview)" target="_blank" rel="external">C/C++ for VS Code (Preview)</a></p>
              <ol>
                <li>打开 VS Code。</li>
                <li>选择侧边栏的扩展图标打开扩展栏。</li>
                <li>搜索cpptools。</li>
                <li>点击安装，安装完成后点击启用，重启后静待cpptools完成最后一步安装。</li>
                <li>完成后打开一个文件夹。（空文件夹也行）</li>
                <li>设置#include路径，按住<code>ctrl</code>+<code>shift</code>+<code>P</code>呼出命令窗口，输入<code>C/Cpp: Edit Configurations</code>回车，在变量name为Win32的字典里的includePath中的值，修改或添加为<code>&quot;D:/MinGW/include&quot;</code>。</li>
                <li>按住<code>ctrl</code>+<code>shift</code>+<code>P</code>呼出命令窗口，输入<code>C/Cpp: Switch a Configuration</code>回车，选择<code>Win32</code>。</li>
                <li>设置task,按住<code>ctrl</code>+<code>shift</code>+<code>P</code>呼出命令窗口，输入<code>Tasks: Configure Task Runner</code>回车，选择<code>Others</code>。把tasks.json修改为以下形式：</li>
              </ol>
              <figure class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre> </td>
                    <td class="code">
                      <pre><div class="line">&#123;</div><div class="line">    "version": "0.1.0",</div><div class="line">    "command": "cmd",</div><div class="line">    "isShellCommand": false,</div><div class="line">    "showOutput": "always",</div><div class="line">    "args": ["/C"],</div><div class="line">    "tasks": [</div><div class="line">        &#123;</div><div class="line">            "taskName": "build",</div><div class="line">            "suppressTaskName": true,</div><div class="line">            "echoCommand": true,</div><div class="line">            "args": ["g++", "-g", "$&#123;fileBasename&#125;", "-o", "$&#123;fileBasenameNoExtension&#125;.out"],</div><div class="line">            "showOutput": "silent",</div><div class="line">            "isBuildCommand": true, // 绑定 Ctrl+Shift+B 快捷键</div><div class="line">            "problemMatcher": &#123;</div><div class="line">                "owner": "cpp",</div><div class="line">                "fileLocation": ["relative", "$&#123;workspaceRoot&#125;"],</div><div class="line">                "pattern": &#123;</div><div class="line">                    "regexp": "^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$",</div><div class="line">                    "file": 1,</div><div class="line">                    "line": 2,</div><div class="line">                    "column": 3,</div><div class="line">                    "severity": 4,</div><div class="line">                    "message": 5</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            "taskName": "clear",</div><div class="line">            "suppressTaskName": true,</div><div class="line">            "args": ["del", "*.out"],</div><div class="line">            "showOutput": "never"</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre> </td>
                  </tr>
                </table>
              </figure>
              <h1 id="使用">
                <a href="#使用" class="headerlink" title="使用"></a>使用</h1>
              <p>写一个简单的C++代码，新建一个hello.cpp文件</p>
              <figure class="highlight cpp">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre> </td>
                    <td class="code">
                      <pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre> </td>
                  </tr>
                </table>
              </figure>
              <h2 id="编译">
                <a href="#编译" class="headerlink" title="编译"></a>编译</h2>
              <p>按住<code>ctrl</code>+<code>P</code>,输入<code>task build</code>回车，就能编译成功了。若是编译失败，错误信息会出现在左下角。</p>
              <blockquote>
                <p>按住<code>ctrl</code>+<code>shift</code>+<code>b</code>也可以执行编译命令</p>
              </blockquote>
              <h2 id="运行">
                <a href="#运行" class="headerlink" title="运行"></a>运行</h2>
              <p>按住<code>ctrl</code>+<code>~</code>弹出CMD窗口，输入<code>hello.cpp.out</code>即可运行编译成功的程序</p>
              <blockquote>
                <p>每次编译完成都会在目录下生成<code>同文件名</code>+<code>.out</code>的可执行程序，<br>运行<code>task clear</code>命令可以清除所有<code>.out</code>文件，<br>运行<code>task build</code>命令编译。</p>
              </blockquote>
              <h2 id="Debug-配置">
                <a href="#Debug-配置" class="headerlink" title="Debug 配置"></a>Debug 配置</h2>
              <p>在<code>.vscode</code>下添加<code>launch.json</code>文件</p>
              <figure class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre> </td>
                    <td class="code">
                      <pre><div class="line">&#123;</div><div class="line">    "version": "0.2.0",</div><div class="line">    "configurations": [</div><div class="line">        &#123;</div><div class="line">            "name": "C++ Launch",</div><div class="line">            "type": "cppdbg",</div><div class="line">            "request": "launch",</div><div class="line">            "program": "$&#123;cwd&#125;/$&#123;fileBasenameNoExtension&#125;.out",</div><div class="line">            "args": ["&lt;", "in.ini", "&gt;", "out.txt"], // 通常为空</div><div class="line">            "stopAtEntry": true, //当程序启动时，debug cursor停止在文件首行</div><div class="line">            "cwd": "$&#123;workspaceRoot&#125;",</div><div class="line">            "environment": [],</div><div class="line">            "externalConsole": true,</div><div class="line">            "MIMode": "gdb",</div><div class="line">            "miDebuggerPath": "gdb.exe",</div><div class="line">            "preLaunchTask": "build"</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre> </td>
                  </tr>
                </table>
              </figure>
              <p>窗口焦点返回到<code>hello.cpp</code>文件上，在编辑器行号旁点击鼠标左键添加断点<br>或者按<code>F9</code>添加行断点，<code>shift</code>+<code>F9</code>添加列断点<br>右击断点编辑断点条件</p>
              <p>按住<code>F5</code>进入<strong>DEBUG</strong>模式<br>按住<code>ctrl</code>+<code>shift</code>+<code>D</code>显示调试侧边栏，<br>按住<code>ctrl</code>+<code>shift</code>+<code>Y</code>显示调试控制台，</p>
              <ul>
                <li><code>F5</code> 继续运行</li>
                <li><code>F11</code> 单步调试</li>
                <li><code>shift</code>+<code>F11</code> 单步跳出</li>
                <li><code>F10</code> 单步跳过</li>
              </ul>
            </div>
            <script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://linw1995.com/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/" data-id="cj5xywtrp0016m8itxo07tadj" class="article-share-link">Share</a>
            <div class="tags"><a href="/tags/VSCode/">VSCode</a><a href="/tags/C/">C++</a></div>
            <div class="post-nav"><a href="/2017/03/15/Matplotlib-中文显示参数设置/" class="pre">Matplotlib 中文显示参数设置</a></div>
            <div id="disqus_thread">
              <div class="btn_click_load"><button class="disqus_click_btn">阅读评论 「请确保 disqus.com 可以正常加载」</button></div>
              <script>
                var disqus_shortname = 'linw1995';
                var disqus_identifier = '2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/';
                var disqus_title = '如何配置Visual Studio Code + MinGW下的C++环境';
                var disqus_url = 'http://linw1995.com/2016/10/14/如何配置Visual-Studio-Code-MinGW下的C-环境/';
                $('.btn_click_load').click(function() {
                  (function() {
                    var dsq = document.createElement('script');
                    dsq.type = 'text/javascript';
                    dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
                  $('.btn_click_load').css('display', 'none');
                });
                $.ajax({
                  url: 'https://disqus.com/favicon.ico',
                  timeout: 3000,
                  type: 'GET',
                  success: (function() {
                    var dsq = document.createElement('script');
                    dsq.type = 'text/javascript';
                    dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    $('.btn_click_load').css('display', 'none');
                  })(),
                  error: function() {
                    $('.btn_click_load').css('display', 'block');
                  }
                });
              </script>
              <script id="dsq-count-scr" src="//linw1995.disqus.com/count.js" async></script>
            </div>
          </div>
        </div>
      </div>
      <div class="pure-u-1 pure-u-md-4-4">
        <div id="footer">Copyright © 2017 <a href="/." rel="nofollow">linw1995.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow"
            target="_blank" href="https://github.com/pagecho"> Cho.</a></div>
      </div>
    </div>
    <a id="rocket" href="#top" class="show"></a>
    <script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script>
    <script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script>
    <script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script>
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css">
    <script type="text/javascript" src="/js/search.js?v=0.0.0"></script>
    <script>
      var search_path = 'search.xml';
      if (search_path.length == 0) {
        search_path = 'search.xml';
      }
      var path = '/' + search_path;
      searchFunc(path, 'local-search-input', 'local-search-result');
    </script>
    <script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script>
    <script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script>
  </div>
</body>

</html>