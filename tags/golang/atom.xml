<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh"><title>
    linw1995&#x27;s blog - golang</title>
    <link rel="self" type="application/atom+xml" href="/tags/golang/atom.xml"/>
    <link rel="alternate" type="text/html" href="/"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <icon>/favicon.ico</icon>
    <logo>/favicon.png</logo>
    <updated>2025-06-25T00:00:00+00:00</updated>
    <id>/tags/golang/atom.xml</id>
    <follow_challenge><feedId>72476326505512960</feedId><userId>57795710219398144</userId></follow_challenge>
    <entry xml:lang="zh"><title>Neovim 项目级 LSP 配置</title><published>2025-06-25T00:00:00+00:00</published><updated>2025-06-25T00:00:00+00:00</updated>
        
        <author><name>
            
              linw1995
            
          </name></author>
        
        <link rel="alternate" type="text/html" href="/nvim-lsp-project-config/"/>
        <id>/nvim-lsp-project-config/</id>
        
        <summary type="html">&lt;h2 id=&quot;qian-yan&quot;&gt;前言&lt;&#x2F;h2&gt;
&lt;p&gt;最近写 golang 代码时，由于需要在构建时隔离一些代码中的常量，
使用 golang 内置的 build tags 功能。
这样就需要给 gopls 配置启动参数，才能正确解析代码。
但是 gopls 的配置需要在项目级别进行，全局配置会影响到其它项目。&lt;&#x2F;p&gt;
&lt;p&gt;那该如何配置呢？&lt;&#x2F;p&gt;&lt;br&gt; &lt;a href=&quot;/nvim-lsp-project-config/&quot; target=&quot;_blank&quot;&gt;Read more&lt;/a&gt;</summary>
        
        <content type="html" xml:base="/nvim-lsp-project-config/">&lt;h2 id=&quot;qian-yan&quot;&gt;前言&lt;&#x2F;h2&gt;
&lt;p&gt;最近写 golang 代码时，由于需要在构建时隔离一些代码中的常量，
使用 golang 内置的 build tags 功能。
这样就需要给 gopls 配置启动参数，才能正确解析代码。
但是 gopls 的配置需要在项目级别进行，全局配置会影响到其它项目。&lt;&#x2F;p&gt;
&lt;p&gt;那该如何配置呢？&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;pei-zhi-fang-shi&quot;&gt;配置方式&lt;&#x2F;h2&gt;
&lt;h2 id=&quot;shi-yong-neovim-nei-zhi-exrc-gong-neng&quot;&gt;使用 neovim 内置 exrc 功能&lt;&#x2F;h2&gt;
&lt;p&gt;它的作用是允许 Neovim 读取当前目录下的 &lt;code&gt;.exrc&lt;&#x2F;code&gt; 文件来加载本地的配置
（实际是通过执行代码来达到配置的目的）。
缺点是对 Neovim 需要有深刻的了解，且有较大可能性会跟其它插件冲突。
所以不推荐使用。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-yong-lazy-nvim&quot;&gt;使用 lazy.nvim&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;strong&gt;lazy.nvim&lt;&#x2F;strong&gt; 是一个 Neovim 插件管理器，可以方便地管理和配置 Neovim 插件。
其支持通过 &lt;code&gt;.lazy.lua&lt;&#x2F;code&gt; 文件来配置项目级的插件配置。
&lt;strong&gt;lazy.nvim&lt;&#x2F;strong&gt; 的文档没有过多地介绍（就是没有）这个功能。
但这个配置的格式，用过 &lt;strong&gt;lazy.nvim&lt;&#x2F;strong&gt; 的应该都超熟悉的。&lt;&#x2F;p&gt;
&lt;p&gt;配置格式: &lt;a href=&quot;https:&#x2F;&#x2F;lazy.folke.io&#x2F;spec&quot;&gt;https:&#x2F;&#x2F;lazy.folke.io&#x2F;spec&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;lua&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-lua &quot;&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;nvim&#x2F;nvim-lspconfig&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;opts &lt;&#x2F;span&gt;&lt;span&gt;= {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;servers &lt;&#x2F;span&gt;&lt;span&gt;= {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopls &lt;&#x2F;span&gt;&lt;span&gt;= {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;settings &lt;&#x2F;span&gt;&lt;span&gt;= {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;gopls &lt;&#x2F;span&gt;&lt;span&gt;= {
&lt;&#x2F;span&gt;&lt;span&gt;                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;buildFlags &lt;&#x2F;span&gt;&lt;span&gt;= { &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;-tags=encrypt decrypt&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot; },
&lt;&#x2F;span&gt;&lt;span&gt;                    },
&lt;&#x2F;span&gt;&lt;span&gt;                },
&lt;&#x2F;span&gt;&lt;span&gt;            },
&lt;&#x2F;span&gt;&lt;span&gt;        },
&lt;&#x2F;span&gt;&lt;span&gt;    },
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
    </entry>
</feed>
