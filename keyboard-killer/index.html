<!DOCTYPE html>
<html lang="zh">

<head>
    <title>可乐是键盘杀手</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://www.linw1995.com/style.css">
    <link rel="stylesheet" href="https://www.linw1995.com/color/blue.css">

    <link rel="stylesheet" href="https://www.linw1995.com/font-hack.css">

        
    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="可乐是键盘杀手">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.linw1995.com/keyboard-killer/">

    <meta property="og:image" content="https://www.linw1995.com/images/keyboard_keychron_q60_max.jpg">
    <meta name="twitter:image" content="https://www.linw1995.com/images/keyboard_keychron_q60_max.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="可乐是键盘杀手">
    <meta property="twitter:domain" content="www.linw1995.com&#x2F;">
    <meta property="twitter:url" content="https://www.linw1995.com/keyboard-killer/">

                <link rel="alternate" type="application/atom+xml" title="linw1995&#x27;s blog Atom Feed" href="https://www.linw1995.com/atom.xml" />
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
    
    <link rel="stylesheet" href="https://www.linw1995.com/license.css">
</head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://www.linw1995.com/" style="text-decoration: none;">
                    <div class="logo">
                      
                            linw1995
                        
                    </div>
                </a>
            </div>
              
<ul class="menu menu--desktop menu--language-selector">
  <li class="menu__trigger">Chinese&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
        <li><a href="https:&#x2F;&#x2F;www.linw1995.com&#x2F;keyboard-killer&#x2F;">中文</a></li>
      </ul>
  </li>
</ul>
</div>

        
        <nav class="menu">
            <ul class="menu__inner">
                <li><a href="/">blog</a></li>
            
                <li><a href="/tags">tags</a></li>
            
                <li><a href="/about">about me</a></li>
            
                <li><a href="https://old-blog.linw1995.com/" target="_blank" rel="noopener noreferrer">old blog</a></li>
            
                <li><a href="https://github.com/linw1995" target="_blank" rel="noopener noreferrer">github</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
<div class="post">
    
    <h1 class="post-title"><a href="https://www.linw1995.com/keyboard-killer/">可乐是键盘杀手</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2024-12-04
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://www.linw1995.com/tags/equipment/">#equipment</a>&nbsp;
                <a class="post-tag" href="https://www.linw1995.com/tags/keyboard/">#keyboard</a></span>
    

    <div class="post-content">
            <p>周五晚上和女票在玩游戏 <strong>Go-Go Town !</strong>  。游戏很上头，太专注了，不小心把可乐打翻了。
可乐撒了一丢丢在键盘上，当时是擦干净了，使用也没啥问题。</p>
<p>隔天早上起来用的时候，就发现它坏了。呜呜呜，陪伴5年的键盘。</p>
<span id="continue-reading"></span>
<p>因为键盘坏了，没法写代码（也没法玩游戏）。
先用小时达下单了个 27 米的键盘来临时用用。
然后在等待的过程中，找到了这个键盘 <strong>Keychron Q60 Max</strong> 。
HHKB 配列的键盘，距离上次选购都 5 年了，现在看能选择还是一样少。</p>
<p>临时键盘当天早上就到了，但隔天早上新键盘也到了（顺丰快递，速度真快）。
所以临时键盘就没用了，当场下岗。等它下次上岗，也不知道会是什么时候了。</p>

  
  
    
    
  
  <img src="https://www.linw1995.com/images/keyboard_keychron_q60_max.jpg" alt="新键盘" class="center" style="border-radius: 8px;" decoding="async" loading="lazy"/>

<p>到手的第一件事，就是改键位。
原版 HHKB 可以通过拨动背面功能滑块，
选择交换 <kbd>Delete</kbd> 与 <kbd>Backspace</kbd> 按键。
不然要向左删除的时候，需同时按下 <kbd>FN</kbd> + <kbd>Delete</kbd> ，不是很方便。
但遗憾的是，这个新键盘不支持这样方便的方式。但它支持 QMK 固件，这也让它更好用。</p>
<p>随机送的小手册，提供个网站可以直接编辑键位。感觉很方便，但有 BUG 无法正常使用。
那就只有自己动手刷固件了，这也是我买这个键盘的原因之一。用的是开源固件 QMK。</p>
<h2 id="gu-jian-shua-xie">固件刷写</h2>
<p>由于 keychron 源码没有合并近主仓库，得这么操作。</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 下载源码
</span><span style="color:#bf616a;">gti</span><span> clone https://github.com/Keychron/qmk_firmware.git \
</span><span style="color:#bf616a;">  --depth</span><span> 1 \
</span><span style="color:#bf616a;">  --branch</span><span> wireless_playground
</span><span style="color:#96b5b4;">cd</span><span> ./qmk_firmware
</span><span>
</span><span style="color:#65737e;"># 安装 qmk
</span><span style="color:#bf616a;">brew</span><span> install qmk/qmk/qmk
</span></code></pre>
<p>刷固件前，别忘了修改下键位。</p>
<!-- markdownlint-disable line-length -->
<pre data-lang="diff" style="background-color:#2b303b;color:#c0c5ce;" class="language-diff "><code class="language-diff" data-lang="diff"><span>diff --git a/keyboards/keychron/q60_max/ansi/keymaps/default/keymap.c b/keyboards/keychron/q60_max/ansi/keymaps/default/keymap.c
</span><span>index a39ed4b9a2..37adca928b 100644
</span><span>--- a/keyboards/keychron/q60_max/ansi/keymaps/default/keymap.c
</span><span>+++ b/keyboards/keychron/q60_max/ansi/keymaps/default/keymap.c
</span><span>@@ -29,7 +29,7 @@ </span><span style="color:#8fa1b3;">enum layers {
</span><span> const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
</span><span>     [MAC_BASE] = LAYOUT_ansi_60(
</span><span>         KC_ESC,  KC_1,     KC_2,     KC_3,    KC_4,    KC_5,    KC_6,    KC_7,    KC_8,    KC_9,    KC_0,    KC_MINS,  KC_EQL,    KC_BSLS, KC_GRV,
</span><span style="color:#bf616a;">-        KC_TAB,  KC_Q,     KC_W,     KC_E,    KC_R,    KC_T,    KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,    KC_LBRC,  KC_RBRC,            KC_DEL,
</span><span style="color:#a3be8c;">+        KC_TAB,  KC_Q,     KC_W,     KC_E,    KC_R,    KC_T,    KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,    KC_LBRC,  KC_RBRC,            KC_BSPC,
</span><span>         KC_LCTL, KC_A,     KC_S,     KC_D,    KC_F,    KC_G,    KC_H,    KC_J,    KC_K,    KC_L,    KC_SCLN, KC_QUOT,                      KC_ENT,
</span><span>         KC_LSFT,           KC_Z,     KC_X,    KC_C,    KC_V,    KC_B,    KC_N,    KC_M,    KC_COMM, KC_DOT,  KC_SLSH,             KC_RSFT, MO(FN),
</span><span>                            KC_LOPTN, KC_LCMMD,                           KC_SPC,                             KC_RCMMD, KC_ROPTN),
</span><span>
</span></code></pre>
<!-- markdownlint-enable line-length -->
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 构建环境配置
</span><span style="color:#bf616a;">brew</span><span> link</span><span style="color:#bf616a;"> --force</span><span> avr-gcc@8
</span><span style="color:#bf616a;">brew</span><span> link</span><span style="color:#bf616a;"> --force</span><span> arm-none-eabi-binutils
</span><span style="color:#bf616a;">brew</span><span> link</span><span style="color:#bf616a;"> --force</span><span> arm-none-eabi-gcc@8
</span><span>
</span><span style="color:#65737e;"># 固件构建并刷写
</span><span style="color:#bf616a;">make</span><span> keychron/q60_max/ansi:default:flash
</span></code></pre>
<p>待构建完成后，会进监听模式。
此时拔下键盘，再长按 <kbd>Esc</kbd> 键的同时，再插上键盘。
等待片刻，固件刷写。完成后，键盘会自动重启。就能正常使用了。</p>
<h2 id="rgb-deng-xiao-she-bei-shui-mian-hou-bu-hui-fu-de-jie-jue-fang-an">RGB 灯效设备睡眠后不恢复的解决方案</h2>
<p>这个 Bug 不知道哪里导致的。但有个短平快的方案就是禁止 RGB 灯效跟着睡眠。</p>
<pre data-lang="diff" style="background-color:#2b303b;color:#c0c5ce;" class="language-diff "><code class="language-diff" data-lang="diff"><span>--- a/keyboards/keychron/q60_max/ansi/rules.mk
</span><span>+++ b/keyboards/keychron/q60_max/ansi/rules.mk
</span><span>@@ -1 +1 @@
</span><span style="color:#bf616a;">-# This file intentionally left blank
</span><span>\ No newline at end of file
</span><span style="color:#a3be8c;">+SLEEP_LED_ENABLE = yes
</span></code></pre>
<p>重新构建固件并刷写即可。</p>
<h2 id="za-xiang">杂项</h2>
<ul>
<li>键盘官方产品详情 <a href="https://www.keychron.com/products/keychron-q60-max-qmk-via-wireless-custom-mechanical-keyboard">Keychron Q60 Max QMK/VIA Wireless Custom Mechanical Keyboard</a></li>
<li>固件源码 <a href="https://github.com/Keychron/qmk_firmware/tree/ebdaa0469c57bc94798b670976adcca24201467e/keyboards/keychron/q60_max">qmk/qmk_firmware</a></li>
</ul>

        </div>

    
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                    <hr />
                </div>
                <div class="pagination__buttons">
                        <span class="button previous">
                            <a href="https://www.linw1995.com/setup-neovim-in-nixos/">
                                <span class="button__icon">←</span>&nbsp;
                                <span class="button__text">在 NixOS 中配置 Neovim </span>
                            </a>
                        </span>
                    
                    </div>
            </div>
        

    <p id="license" xmlns:cc="http://creativecommons.org/ns#" >
        This work by <span property="cc:attributionName">林玮 (Jade Lin)</span> is licensed under 
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
            CC BY-NC-ND 4.0
            <img src="https://www.linw1995.com/images/by-nc-nd.png" alt="">
        </a>
    </p>

    <div class="giscus" style="margin-top: 4rem"></div>
</div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright copyright--user"><b>Copyright ©</b>  &nbsp; 2024 linw1995</div>
            </div>
    </footer>
    

</div>
<script type="text/javascript" src="/js/menu.js"></script>
<script src="https://giscus.app/client.js"
    data-repo="linw1995/linw1995.github.io"
    data-repo-id="MDEwOlJlcG9zaXRvcnk3MDkyNjU4NA=="
    data-category="General"
    data-category-id="DIC_kwDOBDpA-M4CigfM"
    data-mapping="og:title"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="dark"
    data-lang="zh-CN"
    data-loading="lazy"
    crossorigin="anonymous"
    async></script>
</body>

</html>
